{"ast":null,"code":"import _slicedToArray from\"/home/adalaber/Escritorio/REACT/evaluacion-final/modulo-3-evaluacion-final-ClaudiaBStein/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../styles/App.scss';import'../styles/layout/Footer.scss';import{Route,Switch,useRouteMatch}from'react-router';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import api from'../services/charactersApi';import ls from'../services/ls';import Footer from'./Footer';import CharactersList from'./CharactersList';import CharactersSearch from'./CharactersSearch';import CharacterDetail from'./CharacterDetail';import Form from'./Form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){/*---------Variables---------*/var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchName=_useState4[0],setSearchName=_useState4[1];var _useState5=useState('All'),_useState6=_slicedToArray(_useState5,2),CharactersSearchpecies=_useState6[0],setCharactersSearchpecies=_useState6[1];var routeData=useRouteMatch('/characters/:id');/*---------Fetch---------*/useEffect(function(){if(ls.get('characters',[]).length>0){setData(ls.get('characters',[]));}else{api.getCharacters().then(function(incomingData){setData(incomingData);ls.set('characters',incomingData);});}},[searchName]);/*---------Funciones---------*/var characterId=routeData!==null?routeData.params.id:'';var selectedCharacter=data.find(function(character){return character.id===parseInt(characterId);});var handleSearchName=function handleSearchName(ev){setSearchName(ev.currentTarget.value);};console.log(selectedCharacter);var handleCharactersSearchpecies=function handleCharactersSearchpecies(ev){setCharactersSearchpecies(ev.currentTarget.value);};var filteredData=data.filter(function(character){return CharactersSearchpecies==='All'||character.species===CharactersSearchpecies;}).filter(function(character){return character.name.toLocaleLowerCase().includes(searchName.toLocaleLowerCase());});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[\";\",/*#__PURE__*/_jsx(\"img\",{className:\"header__img\",src:\"https://help.redbubble.com/hc/article_attachments/360002309526/Rick_and_Morty_-_logo__English_.png\",alt:\"Rick and Morty\"})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsx(Switch,{}),/*#__PURE__*/_jsx(Route,{path:\"/characters/:id\",children:/*#__PURE__*/_jsx(\"section\",{className:\"sectionDetail\",children:/*#__PURE__*/_jsx(CharacterDetail,{character:selectedCharacter})})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Form,{searchName:searchName,handleSearchName:handleSearchName,CharactersSearchpecies:CharactersSearchpecies,handleCharactersSearchpecies:handleCharactersSearchpecies,CharactersList:CharactersList,CharactersSearch:CharactersSearch,data:filteredData})}),/*#__PURE__*/_jsx(Switch,{})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"sources":["/home/adalaber/Escritorio/REACT/evaluacion-final/modulo-3-evaluacion-final-ClaudiaBStein/src/components/App.js"],"names":["Route","Switch","useRouteMatch","useEffect","useState","Link","api","ls","Footer","CharactersList","CharactersSearch","CharacterDetail","Form","App","data","setData","searchName","setSearchName","CharactersSearchpecies","setCharactersSearchpecies","routeData","get","length","getCharacters","then","incomingData","set","characterId","params","id","selectedCharacter","find","character","parseInt","handleSearchName","ev","currentTarget","value","console","log","handleCharactersSearchpecies","filteredData","filter","species","name","toLocaleLowerCase","includes"],"mappings":"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","sourcesContent":["import '../styles/App.scss';\nimport '../styles/layout/Footer.scss';\nimport { Route, Switch, useRouteMatch } from 'react-router';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../services/charactersApi';\nimport ls from '../services/ls';\nimport Footer from './Footer';\nimport CharactersList from './CharactersList';\nimport CharactersSearch from './CharactersSearch';\nimport CharacterDetail from './CharacterDetail';\nimport Form from './Form';\n\nfunction App() {\n  /*---------Variables---------*/\n  const [data, setData] = useState([]);\n  const [searchName, setSearchName] = useState('');\n  const [CharactersSearchpecies, setCharactersSearchpecies] = useState('All');\n  const routeData = useRouteMatch('/characters/:id');\n\n  /*---------Fetch---------*/\n  useEffect(() => {\n    if (ls.get('characters', []).length > 0) {\n      setData(ls.get('characters', []));\n    } else {\n      api.getCharacters().then((incomingData) => {\n        setData(incomingData);\n        ls.set('characters', incomingData);\n      });\n    }\n  }, [searchName]);\n\n  /*---------Funciones---------*/\n\n  const characterId = routeData !== null ? routeData.params.id : '';\n\n  const selectedCharacter = data.find(\n    (character) => character.id === parseInt(characterId)\n  );\n\n  const handleSearchName = (ev) => {\n    setSearchName(ev.currentTarget.value);\n  };\n  console.log(selectedCharacter);\n  const handleCharactersSearchpecies = (ev) => {\n    setCharactersSearchpecies(ev.currentTarget.value);\n  };\n\n  const filteredData = data\n    .filter(\n      (character) =>\n        CharactersSearchpecies === 'All' ||\n        character.species === CharactersSearchpecies\n    )\n    .filter((character) =>\n      character.name\n        .toLocaleLowerCase()\n        .includes(searchName.toLocaleLowerCase())\n    );\n\n  return (\n    <>\n      <header className='header'>\n        <Link to={`/`}>\n          ;\n          <img\n            className='header__img'\n            src='https://help.redbubble.com/hc/article_attachments/360002309526/Rick_and_Morty_-_logo__English_.png'\n            alt='Rick and Morty'\n          ></img>\n        </Link>\n      </header>\n      <main className='main'>\n        <Switch />\n\n        <Route path='/characters/:id'>\n          <section className='sectionDetail'>\n            <CharacterDetail character={selectedCharacter} />\n          </section>\n        </Route>\n        <Route exact path='/'>\n          <Form\n            searchName={searchName}\n            handleSearchName={handleSearchName}\n            CharactersSearchpecies={CharactersSearchpecies}\n            handleCharactersSearchpecies={handleCharactersSearchpecies}\n            CharactersList={CharactersList}\n            CharactersSearch={CharactersSearch}\n            data={filteredData}\n          />\n        </Route>\n        <Switch />\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}